"use strict";(self.webpackChunkdoganaylab_api_translate=self.webpackChunkdoganaylab_api_translate||[]).push([[956],{109:(n,e,o)=>{o.d(e,{Fc:()=>t});const t=[{code:"en",name:"English",nameEn:"English"},{code:"ja",name:"日本語",nameEn:"Japanese"},{code:"zh",name:"中文",nameEn:"Chinese (Simplified)"},{code:"zh-TW",name:"中文 (繁體)",nameEn:"Chinese (Traditional)"},{code:"ko",name:"한국어",nameEn:"Korean"},{code:"es",name:"Español",nameEn:"Spanish"},{code:"fr",name:"Français",nameEn:"French"},{code:"de",name:"Deutsch",nameEn:"German"},{code:"it",name:"Italiano",nameEn:"Italian"},{code:"pt",name:"Português",nameEn:"Portuguese"},{code:"ru",name:"Русский",nameEn:"Russian"},{code:"ar",name:"العربية",nameEn:"Arabic"},{code:"hi",name:"हिन्दी",nameEn:"Hindi"},{code:"th",name:"ไทย",nameEn:"Thai"},{code:"vi",name:"Tiếng Việt",nameEn:"Vietnamese"},{code:"id",name:"Bahasa Indonesia",nameEn:"Indonesian"},{code:"tr",name:"Türkçe",nameEn:"Turkish"},{code:"pl",name:"Polski",nameEn:"Polish"},{code:"nl",name:"Nederlands",nameEn:"Dutch"},{code:"sv",name:"Svenska",nameEn:"Swedish"}];new Map(t.map(n=>[n.code,n]))},122:(n,e,o)=>{var t=o(72),r=o.n(t),a=o(825),s=o.n(a),i=o(659),l=o.n(i),c=o(56),d=o.n(c),g=o(159),p=o.n(g),u=o(113),f=o.n(u),b=o(397),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=p(),r()(b.A,m),b.A&&b.A.locals&&b.A.locals},333:(n,e,o)=>{o.d(e,{A:()=>r});var t=o(914);const r=new class{constructor(){this.listeners=new Map}async send(n){const e={...n,timestamp:n.timestamp||Date.now()};return t.A.runtime.sendMessage(e)}async sendToTab(n,e){const o={...e,timestamp:e.timestamp||Date.now()};return t.A.tabs.sendMessage(n,o)}listen(n,e){const o=(o,t,r)=>(!e||o.type===e)&&(n(o,t,r)||!1);this.listeners.set(n,o),t.A.runtime.onMessage.addListener(o)}unlisten(n){const e=this.listeners.get(n);e&&(t.A.runtime.onMessage.removeListener(e),this.listeners.delete(n))}}},397:(n,e,o)=>{o.d(e,{A:()=>i});var t=o(601),r=o.n(t),a=o(314),s=o.n(a)()(r());s.push([n.id,"/**\n * Popup UI Styles\n */\n\n.popup-container {\n  min-width: 400px;\n  max-width: 500px;\n  padding: 16px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', sans-serif;\n  background: #ffffff;\n  color: #1f2937;\n}\n\n/* Header */\n.popup-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #e5e7eb;\n  margin-bottom: 16px;\n}\n\n.popup-header h1 {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n  color: #111827;\n}\n\n.extension-version {\n  font-size: 12px;\n  color: #6b7280;\n}\n\n/* Main Content */\n.popup-main {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n/* Controls Section */\n.controls-section {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n/* Language Selector */\n.language-selector {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.language-selector label {\n  font-size: 14px;\n  font-weight: 500;\n  color: #374151;\n}\n\n.language-selector select {\n  padding: 8px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  background: #ffffff;\n  color: #111827;\n  cursor: pointer;\n  transition: border-color 0.2s;\n}\n\n.language-selector select:hover {\n  border-color: #9ca3af;\n}\n\n.language-selector select:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n/* Quick Translate Buttons */\n.quick-translate {\n  display: flex;\n  gap: 8px;\n}\n\n.quick-translate button {\n  flex: 1;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.translate-button {\n  background: #3b82f6;\n  color: #ffffff;\n}\n\n.translate-button:hover:not(:disabled) {\n  background: #2563eb;\n}\n\n.translate-button:disabled {\n  background: #9ca3af;\n  cursor: not-allowed;\n}\n\n.reset-button {\n  background: #6b7280;\n  color: #ffffff;\n}\n\n.reset-button:hover:not(:disabled) {\n  background: #4b5563;\n}\n\n.reset-button:disabled {\n  background: #d1d5db;\n  color: #9ca3af;\n  cursor: not-allowed;\n}\n\n/* Status Indicator */\n.status-indicator {\n  padding: 12px;\n  border-radius: 6px;\n  font-size: 14px;\n}\n\n.translating-state {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.status-message {\n  font-weight: 500;\n  color: #3b82f6;\n}\n\n.progress-bar {\n  width: 100%;\n  height: 6px;\n  background: #e5e7eb;\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: #3b82f6;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 12px;\n  color: #6b7280;\n  text-align: right;\n}\n\n.success-state {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: #d1fae5;\n  border: 1px solid #a7f3d0;\n  color: #065f46;\n}\n\n.success-state img {\n  width: 20px;\n  height: 20px;\n}\n\n.error-state {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: #fee2e2;\n  border: 1px solid #fecaca;\n  color: #991b1b;\n}\n\n.error-state img {\n  width: 20px;\n  height: 20px;\n}\n\n/* API Key Warning */\n.api-key-warning {\n  padding: 12px;\n  background: #fef3c7;\n  border: 1px solid #fde68a;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.warning-content {\n  display: flex;\n  gap: 12px;\n}\n\n.warning-icon {\n  font-size: 20px;\n}\n\n.warning-message {\n  flex: 1;\n}\n\n.warning-message strong {\n  display: block;\n  font-size: 14px;\n  font-weight: 600;\n  color: #92400e;\n  margin-bottom: 4px;\n}\n\n.warning-message p {\n  font-size: 13px;\n  color: #78350f;\n  margin: 0;\n}\n\n.open-settings-button {\n  align-self: flex-start;\n  padding: 6px 12px;\n  background: #f59e0b;\n  color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.open-settings-button:hover {\n  background: #d97706;\n}\n\n/* Footer */\n.popup-footer {\n  margin-top: 16px;\n  padding-top: 12px;\n  border-top: 1px solid #e5e7eb;\n  text-align: center;\n}\n\n.footer-text {\n  font-size: 12px;\n  color: #9ca3af;\n  margin: 0;\n}\n\n/* Selection Result */\n.selection-result-container {\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  animation: fadeIn 0.3s ease-in;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.selection-result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.selection-result-header h3 {\n  font-size: 15px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0;\n}\n\n.target-language {\n  font-size: 13px;\n  color: #6b7280;\n  font-weight: 500;\n}\n\n.selection-result-content {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.text-section {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.text-label {\n  font-size: 12px;\n  font-weight: 600;\n  color: #6b7280;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.original-text,\n.translated-text {\n  padding: 10px 12px;\n  background: #ffffff;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  line-height: 1.6;\n  color: #1f2937;\n  max-height: 300px;\n  overflow-y: auto;\n  word-break: break-word;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n}\n\n.translated-text {\n  font-weight: 500;\n  background: #eff6ff;\n  border-color: #bfdbfe;\n  color: #1e40af;\n}\n\n.selection-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.copy-button,\n.clear-button {\n  flex: 1;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.copy-button {\n  background: #3b82f6;\n  color: #ffffff;\n}\n\n.copy-button:hover {\n  background: #2563eb;\n}\n\n.copy-button:active {\n  transform: scale(0.98);\n}\n\n.clear-button {\n  background: #6b7280;\n  color: #ffffff;\n}\n\n.clear-button:hover {\n  background: #4b5563;\n}\n\n.clear-button:active {\n  transform: scale(0.98);\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .popup-container {\n    background: #1f2937;\n    color: #f3f4f6;\n  }\n\n  .popup-header {\n    border-bottom-color: #374151;\n  }\n\n  .popup-header h1 {\n    color: #f9fafb;\n  }\n\n  .language-selector label {\n    color: #e5e7eb;\n  }\n\n  .language-selector select {\n    background: #374151;\n    color: #f3f4f6;\n    border-color: #4b5563;\n  }\n\n  .language-selector select:hover {\n    border-color: #6b7280;\n  }\n\n  .progress-bar {\n    background: #374151;\n  }\n\n  .popup-footer {\n    border-top-color: #374151;\n  }\n\n  .footer-text {\n    color: #6b7280;\n  }\n\n  /* Selection Result Dark Mode */\n  .selection-result-container {\n    background: #111827;\n    border-color: #374151;\n  }\n\n  .selection-result-header h3 {\n    color: #f9fafb;\n  }\n\n  .target-language {\n    color: #9ca3af;\n  }\n\n  .text-label {\n    color: #9ca3af;\n  }\n\n  .original-text,\n  .translated-text {\n    background: #1f2937;\n    border-color: #4b5563;\n    color: #e5e7eb;\n  }\n\n  .translated-text {\n    background: #1e3a8a;\n    border-color: #3b82f6;\n    color: #bfdbfe;\n  }\n\n  .copy-button {\n    background: #2563eb;\n  }\n\n  .copy-button:hover {\n    background: #1d4ed8;\n  }\n\n  .clear-button {\n    background: #4b5563;\n  }\n\n  .clear-button:hover {\n    background: #374151;\n  }\n}\n",""]);const i=s},444:(n,e,o)=>{o.d(e,{A:()=>a});var t=o(914),r=o(714);const a=class{async get(n){try{console.log("[StorageManager] get() called with keys:",n);const e=n?await t.A.storage.get(n):await t.A.storage.get([]);console.log("[StorageManager] Raw data from BrowserAdapter:",e),console.log("[StorageManager] Data keys:",Object.keys(e)),console.log("[StorageManager] openRouterApiKey:",e.openRouterApiKey),console.log("[StorageManager] openRouterModel:",e.openRouterModel),e.lineHeight&&e.lineHeight>2&&(e.lineHeight=1.5,await this.set({lineHeight:1.5}));const o={...r.m,...e};return console.log("[StorageManager] Merged result:",o),console.log("[StorageManager] Result openRouterApiKey:",o.openRouterApiKey),console.log("[StorageManager] Result openRouterModel:",o.openRouterModel),o}catch(n){return console.error("[StorageManager] get error:",n),console.error("[StorageManager] Returning DEFAULT_STORAGE due to error"),r.m}}async set(n){try{await t.A.storage.set(n)}catch(n){throw console.error("StorageManager.set error:",n),n}}async remove(n){try{await t.A.storage.remove(n)}catch(n){throw console.error("StorageManager.remove error:",n),n}}async clear(){try{const n="undefined"!=typeof chrome?chrome:browser;return new Promise(e=>{n.storage.local.clear(()=>{e()})})}catch(n){throw console.error("StorageManager.clear error:",n),n}}async getApiKey(){try{return(await this.get(["openRouterApiKey"])).openRouterApiKey||null}catch(n){return console.error("StorageManager.getApiKey error:",n),null}}async setApiKey(n){try{await this.set({openRouterApiKey:n})}catch(n){throw console.error("StorageManager.setApiKey error:",n),n}}async getTargetLanguage(){try{return(await this.get(["targetLanguage"])).targetLanguage||r.m.targetLanguage}catch(n){return console.error("StorageManager.getTargetLanguage error:",n),r.m.targetLanguage}}async setTargetLanguage(n){try{await this.set({targetLanguage:n})}catch(n){throw console.error("StorageManager.setTargetLanguage error:",n),n}}}},714:(n,e,o)=>{o.d(e,{m:()=>t});const t={openRouterApiKey:void 0,targetLanguage:"ja",fontSize:16,lineHeight:1.5,darkMode:!1,openRouterModel:"",schemaVersion:3,selectionFontSize:14}},724:(n,e,o)=>{var t;o.d(e,{G:()=>t}),function(n){n.TRANSLATE_PAGE="translate",n.TRANSLATE_SELECTION="translateSelection",n.TRANSLATE_CLIPBOARD="translateClipboard",n.REQUEST_TRANSLATION="requestTranslation",n.RESET="reset",n.TRANSLATION_STARTED="translationStarted",n.TRANSLATION_PROGRESS="translationProgress",n.TRANSLATION_COMPLETED="translationCompleted",n.TRANSLATION_ERROR="translationError",n.SELECTION_TRANSLATED="selectionTranslated",n.BATCH_COMPLETED="batchCompleted",n.SETTINGS_CHANGED="settingsChanged",n.API_KEY_UPDATED="apiKeyUpdated",n.RELOAD_CONFIG="reloadConfig",n.TEST_CONNECTION="testConnection"}(t||(t={}))},914:(n,e,o)=>{o.d(e,{A:()=>t});const t=new class{constructor(){this.api="undefined"!=typeof chrome&&chrome.runtime?chrome:browser}handleRuntimeError(n,e,o){this.api.runtime.lastError?e(new Error(this.api.runtime.lastError.message)):n(o)}get isChrome(){return"undefined"!=typeof chrome&&!!chrome.runtime}get isFirefox(){return!this.isChrome&&"undefined"!=typeof browser&&!!browser.runtime}get manifestVersion(){return this.api.runtime.getManifest().manifest_version}get storage(){return{get:n=>new Promise((e,o)=>{this.api.storage.local.get(n,n=>{this.handleRuntimeError(e,o,n)})}),set:n=>new Promise((e,o)=>{this.api.storage.local.set(n,()=>{this.handleRuntimeError(e,o,void 0)})}),remove:n=>new Promise((e,o)=>{this.api.storage.local.remove(n,()=>{this.handleRuntimeError(e,o,void 0)})})}}get runtime(){return{sendMessage:n=>new Promise(e=>{this.api.runtime.sendMessage(n,n=>{e(n)})}),onMessage:this.api.runtime.onMessage,getManifest:()=>this.api.runtime.getManifest(),openOptionsPage:()=>this.api.runtime.openOptionsPage()}}get tabs(){return{query:n=>new Promise(e=>{this.api.tabs.query(n,e)}),sendMessage:(n,e)=>new Promise(o=>{this.api.tabs.sendMessage(n,e,n=>{o(n)})})}}get commands(){return{onCommand:this.api.commands.onCommand}}}}}]);